{
  "versions": [
    {
      "version": "3.1.0",
      "version_code": 82,
      "release_date": "2026-01-28",
      "download_url": "https://adb.leetpc.com/api/v1/agent/updates/3.1.0.apk",
      "size_bytes": 11160423,
      "md5": "10f0cb9fb8588ee70c3e5c0f01704857",
      "sha256": "9960fc96f4a4d081f716f3fc1d733dc5d5c43a7e1c056d06e8f550900fe53060",
      "required": true,
      "changes": [
        "[H.264 ROOT] НАСТОЯЩИЙ видеопоток через screenrecord!",
        "[H.264 ROOT] БЕЗ MediaProjection - работает на headless!",
        "[H.264 ROOT] 30 FPS при минимальном CPU (hardware encoder)",
        "[PERF] Quality 80, FPS 30 по умолчанию",
        "[ENTERPRISE] 1000+ эмуляторов с реальным H.264 видео",
        "[ZERO TRAFFIC] Нет трафика если viewer не подключён"
      ]
    },
    {
      "version": "3.0.2",
      "version_code": 81,
      "release_date": "2026-01-28",
      "download_url": "https://adb.leetpc.com/api/v1/agent/updates/3.0.2.apk",
      "size_bytes": 11143995,
      "md5": "487fc3e0dfb110416df34926d13b8c4c",
      "sha256": "c58bb0e5cb7fdc535c87bb1c10c183be1747f0e082e6b9f65cfd3b65be869060",
      "required": false,
      "changes": [
        "[CRITICAL] Переключено на JPEG streaming (compression:jpeg)",
        "[FIX] ROOT capture работает БЕЗ MediaProjection permission!",
        "[FIX] Черный экран исправлен - теперь стрим работает сразу",
        "[ENTERPRISE] 1000+ эмуляторов без UI interaction"
      ]
    },
    {
      "version": "3.0.1",
      "version_code": 80,
      "release_date": "2026-01-28",
      "download_url": "https://adb.leetpc.com/api/v1/agent/updates/3.0.1.apk",
      "size_bytes": 23693788,
      "md5": "d1a2ee85d047690882d173461491267a",
      "sha256": "cfda689dd4fb52bb7cffef8e6e830ee45bb9dc6881e4437fc14ff1c085679832",
      "required": false,
      "changes": [
        "[FIX] start_stream запускает H.264 encoder сразу",
        "[FIX] Авто-запуск ScreenCaptureService перед стримом",
        "[FIX] Авто-запрос MediaProjection при отсутствии разрешения",
        "[FIX] JPEG fallback отключён при compression=h264"
      ]
    },
    {
      "version": "3.0.0",
      "version_code": 79,
      "release_date": "2026-01-27",
      "download_url": "https://adb.leetpc.com/api/v1/agent/updates/3.0.0.apk",
      "size_bytes": 23693784,
      "md5": "478810b1726e2ffc5079622a5693764d",
      "sha256": "21f1ee2b9c89b0e6f8c81e3e05628d4a31730d0be473b3ac1cf3291ebcceeecb",
      "required": true,
      "changes": [
        "[H.264] Hardware video streaming via MediaCodec",
        "[PERF] 93% bandwidth reduction (1.5 MB/s → 100 KB/s)",
        "[PERF] Sub-50ms latency (20-55ms)",
        "[PERF] 0-2% CPU usage (hardware encoder)",
        "[ENTERPRISE] On-demand streaming (only selected devices)",
        "[WEB] WebCodecs H.264 decoding (Chrome/Edge/Safari)",
        "[AUTO] Auto-start streaming from web"
      ]
    },
    {
      "version": "2.28.0",
      "version_code": 78,
      "release_date": "2026-01-26",
      "download_url": "https://adb.leetpc.com/apk/SphereAgent-v2.28.0.apk",
      "size_bytes": 11061523,
      "md5": "4cfba4f6bcb5809eae17f29425704eab",
      "required": true,
      "changes": [
        "[ENTERPRISE] Полная поддержка всех нод Visual Editor",
        "[ENTERPRISE] VAR_SET, MATH, RANDOM, COUNTER, WHILE, LOOP_FOREVER",
        "[ENTERPRISE] OCR, Templates, Pixels, Clipboard и др.",
        "[STABILITY] Улучшена совместимость шагов скриптов"
      ]
    },
    {
      "version": "2.22.0",
      "version_code": 69,
      "release_date": "2026-01-22",
      "download_url": "https://adb.leetpc.com/downloads/SphereAgent-v2.22.0.apk",
      "size_bytes": 11094835,
      "md5": "c6d2ed258a41bb300df7ee1ebe1379be",
      "required": true,
      "changes": [
        "[CRITICAL] INIT.RC auto-start: sys.boot_completed/dev.bootcomplete/bootanim.exit",
        "[CRITICAL] Root script hardening: boot wait timeout + диагностика props",
        "[CRITICAL] Запуск через AutoStartActivity + am start-foreground-service",
        "[CRITICAL] Работает даже если BootReceiver не вызывается"
      ]
    },
    {
      "version": "2.20.0",
      "version_code": 67,
      "release_date": "2026-01-22",
      "download_url": "https://adb.leetpc.com/downloads/SphereAgent-v2.20.0.apk",
      "size_bytes": 11094547,
      "md5": "8738b07db2e063b2d17de7ec5fc078e9",
      "required": true,
      "changes": [
        "[ENTERPRISE] ContentProvider - запускается ОЧЕНЬ РАНО, раньше Application.onCreate()!",
        "[ENTERPRISE] JobScheduler с persisted=true - переживает reboot БЕЗ BootReceiver!",
        "[ENTERPRISE] BootJobService - immediate job при boot + periodic каждые 15 мин",
        "[FIX] Полный stack: ContentProvider → JobScheduler → WorkManager → AlarmManager → ROOT",
        "[STABILITY] Теперь 5 независимых механизмов автозапуска!"
      ]
    },
    {
      "version": "2.19.0",
      "version_code": 66,
      "release_date": "2026-01-22",
      "download_url": "https://adb.leetpc.com/downloads/SphereAgent-v2.19.0.apk",
      "size_bytes": 11078500,
      "md5": "e1b0726a8454be1ac5df80d7cf1ccc8d",
      "changes": [
        "ROOT INIT SCRIPT: Установка скрипта в /data/adb/service.d",
        "MAGISK MODULE: Автоматическая установка модуля для автозапуска",
        "GUARANTEED BOOT: Запуск через am start-foreground-service",
        "FALLBACK: Запуск MainActivity + broadcast BOOT_COMPLETED",
        "RETRY: Повторная попытка если первый запуск не удался",
        "LOG: Логирование в /data/local/tmp/sphere-agent-boot.log"
      ],
      "required": true,
      "rollout_percentage": 100,
      "min_sdk": 24
    },
    {
      "version": "2.18.0",
      "version_code": 65,
      "release_date": "2026-01-22",
      "download_url": "https://adb.leetpc.com/downloads/SphereAgent-v2.18.0.apk",
      "size_bytes": 11078083,
      "md5": "16024123c65d5112e20617bad03b7aab",
      "changes": [
        "ROOT AUTO-START: am start-foreground-service через ROOT!",
        "ROOT: Battery optimization whitelist автоматически",
        "ROOT: Persistent app mode - система НЕ УБЬЁТ приложение!",
        "ROOT: pm enable BootReceiver - гарантированный BOOT_COMPLETED",
        "ENTERPRISE: 3 попытки запуска (стандарт, retry, ROOT)",
        "ENTERPRISE: foregroundServiceType=specialUse для Android 14+"
      ],
      "required": true,
      "rollout_percentage": 100,
      "min_sdk": 24
    },
    {
      "version": "2.17.0",
      "version_code": 64,
      "release_date": "2026-01-22",
      "download_url": "https://adb.leetpc.com/downloads/SphereAgent-v2.17.0.apk",
      "size_bytes": 11077943,
      "md5": "5a605ac46c5fd82e658f162ae82a0d62",
      "changes": [
        "ENTERPRISE: AlarmManager watchdog каждые 5 минут",
        "ENTERPRISE: WorkManager health check каждые 15 минут",
        "ENTERPRISE: onTaskRemoved() - авто-рестарт при swipe-удалении",
        "ENTERPRISE: onDestroy() - авто-рестарт при kill системой",
        "ENTERPRISE: OTA jitter 0-30 мин для 1000+ устройств",
        "ENTERPRISE: Сервис НИКОГДА не остановится!"
      ],
      "required": true,
      "rollout_percentage": 100,
      "min_sdk": 24
    },
    {
      "version": "2.16.0",
      "version_code": 63,
      "release_date": "2026-01-22",
      "download_url": "https://adb.leetpc.com/downloads/SphereAgent-v2.16.0.apk",
      "size_bytes": 11077943,
      "md5": "d12bf2c6fff69426189322aef68da242",
      "changes": [
        "КАЧЕСТВО: JPEG quality 85% (было 70%)",
        "КАЧЕСТВО: Full resolution без downscale (было inSampleSize=2)",
        "КАЧЕСТВО: FPS 15 (было 10)",
        "КАЧЕСТВО: max_dimension 1920 (было 1280)"
      ],
      "required": true,
      "rollout_percentage": 100,
      "min_sdk": 24
    },
    {
      "version": "2.15.0",
      "version_code": 62,
      "release_date": "2026-01-22",
      "download_url": "https://adb.leetpc.com/downloads/SphereAgent-v2.15.0.apk",
      "size_bytes": 11077939,
      "md5": "27077f532206b261c762d9c470ae8ff8",
      "changes": [
        "КРИТИЧНО: chmod 644 после screencap - файл теперь читаем приложением!",
        "КРИТИЧНО: Исправлен Permission denied при чтении скриншота!",
        "КРИТИЧНО: Стрим через ROOT теперь РАБОТАЕТ!",
        "ДИАГНОСТИКА: Подробное логирование через android.util.Log"
      ],
      "required": true,
      "rollout_percentage": 100,
      "min_sdk": 24
    },
    {
      "version": "2.14.0",
      "version_code": 61,
      "release_date": "2026-01-21",
      "download_url": "https://adb.leetpc.com/downloads/SphereAgent.apk",
      "size_bytes": 11077943,
      "md5": "e129c146d859d09e93c8a2caf07006e7",
      "changes": [
        "КРИТИЧНО: Intent-based resume() - ГАРАНТИРОВАННО работает!",
        "КРИТИЧНО: ACTION_RESUME/ACTION_PAUSE через Intent!",
        "КРИТИЧНО: Сервис НЕ требует кнопки Start Agent!",
        "ФИКС: Увеличен delay после start (800ms) для надёжности"
      ],
      "required": true,
      "rollout_percentage": 100,
      "min_sdk": 24
    },
    {
      "version": "2.13.0",
      "version_code": 60,
      "release_date": "2026-01-21",
      "download_url": "https://adb.leetpc.com/downloads/SphereAgent.apk",
      "size_bytes": 11077943,
      "md5": "16a2bb0422961136c39b597580fdbce6",
      "changes": [
        "КРИТИЧНО: start_stream ПРИНУДИТЕЛЬНО стартует RootScreenCaptureService!",
        "КРИТИЧНО: Добавлен delay + resume после старта сервиса!",
        "КРИТИЧНО: UI кнопка Start теперь тоже использует ROOT capture!",
        "ДИАГНОСТИКА: Подробное логирование статуса ROOT capture"
      ],
      "required": true,
      "rollout_percentage": 100,
      "min_sdk": 24
    },
    {
      "version": "2.11.0",
      "version_code": 58,
      "release_date": "2026-01-21",
      "download_url": "https://adb.leetpc.com/downloads/SphereAgent.apk",
      "size_bytes": 11077943,
      "md5": "ee69d6f9fd54c9248f0fe447769d49e6",
      "changes": [
        "КРИТИЧНО: AUTO-ROOT STREAMING - всегда пробуем ROOT если нет MediaProjection!",
        "КРИТИЧНО: Больше НЕ нужна кнопка Start Agent в приложении!",
        "КРИТИЧНО: Стрим запускается автоматически при просмотре в веб!",
        "ФИКС: hasRootAccess проверка убрана - просто пробуем ROOT"
      ],
      "required": true,
      "rollout_percentage": 100,
      "min_sdk": 24
    },
    {
      "version": "2.10.0",
      "version_code": 57,
      "release_date": "2026-01-21",
      "download_url": "https://github.com/RootOne1337/SphereAgent-APK/releases/download/v2.10.0/app-release.apk",
      "size_bytes": 11061527,
      "md5": "2c3072d9fe2ca6e0d0a42f8b1ad80713",
      "changes": [
        "КРИТИЧНО: ROOT Streaming Fallback - НЕ нужно нажимать Start!",
        "НОВОЕ: RootScreenCaptureService - стрим через screencap (ROOT)",
        "НОВОЕ: Автозапуск RootScreenCaptureService при boot",
        "КРИТИЧНО: Мгновенный стрим когда viewer подключается в вебе"
      ],
      "required": true,
      "rollout_percentage": 100,
      "min_sdk": 24
    },
    {
      "version": "2.9.0",
      "version_code": 56,
      "release_date": "2026-01-21",
      "download_url": "https://github.com/RootOne1337/SphereAgent-APK/releases/download/v2.9.0/app-release.apk",
      "size_bytes": 11061527,
      "md5": "013bb31d239d546850e63e76a1c1d97c",
      "changes": [
        "КРИТИЧНО: On-demand streaming - NO TRAFFIC без viewers!",
        "КРИТИЧНО: Стрим только когда есть подключённые зрители!",
        "КРИТИЧНО: pauseStream/resumeStream для мгновенного управления",
        "ЭКОНОМИЯ: 65GB→0 трафика за ночь когда никто не смотрит"
      ],
      "required": true,
      "rollout_percentage": 100,
      "min_sdk": 24
    },
    {
      "version": "2.8.0",
      "version_code": 55,
      "release_date": "2026-01-21",
      "download_url": "https://github.com/RootOne1337/SphereAgent-APK/releases/download/v2.8.0/SphereAgent-v2.8.0.apk",
      "size_bytes": 11061527,
      "md5": "9e16860022b2644bed77dd6fddda0c28",
      "changes": [
        "КРИТИЧНО: MY_PACKAGE_REPLACED - автозапуск после OTA обновления!",
        "КРИТИЧНО: Версия ВСЕГДА из BuildConfig (не из remote config!)",
        "КРИТИЧНО: Перезапуск после ROOT silent install",
        "НОВОЕ: BootReceiver с retry логикой (повтор через 5 сек)",
        "ОТКАЗОУСТОЙЧИВОСТЬ: 1000+ эмуляторов не положат систему"
      ],
      "required": true,
      "rollout_percentage": 100,
      "min_sdk": 24
    },
    {
      "version": "2.7.0",
      "version_code": 54,
      "release_date": "2026-01-21",
      "download_url": "https://github.com/RootOne1337/SphereAgent-APK/releases/download/v2.7.0/SphereAgent-v2.7.0.apk",
      "size_bytes": 11061447,
      "md5": "9f7d7788d19f214bf1e7256fe582b583",
      "changes": [
        "НОВОЕ: Clone Detection - уникальный ID для каждого клона эмулятора!",
        "НОВОЕ: XPATH_POOL - оптимизированный поиск элементов (1 dump на 30+ элементов)",
        "НОВОЕ: Low FPS Stability - работает даже при 1 FPS",
        "УЛУЧШЕНО: Fingerprint comparison для детекции клонов",
        "УЛУЧШЕНО: Environment fingerprint (ANDROID_ID, Build.SERIAL, boot_id, MAC)"
      ],
      "required": false,
      "rollout_percentage": 100,
      "min_sdk": 24
    },
    {
      "version": "2.6.0",
      "version_code": 53,
      "release_date": "2026-01-19",
      "download_url": "https://github.com/RootOne1337/SphereAgent-APK/releases/download/v2.6.0/SphereAgent-v2.6.0.apk",
      "size_bytes": 11061447,
      "md5": "86658811b56dcd81904fd6094f988b83",
      "changes": [
        "НОВОЕ: Enterprise Stability - стабильный стриминг!",
        "НОВОЕ: Heartbeat интервал 15 секунд (было 30)",
        "НОВОЕ: Fast reconnect 0.5s-15s (было 1s-60s)",
        "НОВОЕ: OkHttp ping каждые 20 секунд",
        "НОВОЕ: 5 мгновенных попыток реконнекта",
        "НОВОЕ: Stream protection 120 секунд",
        "ФИКС: Больше нет дисконнектов во время игр!",
        "ФИКС: Backend Reaper теперь щадящий (8/20 heartbeats)"
      ],
      "required": false,
      "rollout_percentage": 100,
      "min_sdk": 24
    },
    {
      "version": "2.5.0",
      "version_code": 52,
      "release_date": "2026-01-16",
      "download_url": "https://adb.leetpc.com/api/v1/agent/updates/sphere-agent-2.5.0.apk",
      "size_bytes": 23631860,
      "sha256": "1aaefc02542b78df3c44b678b26808fa71cafd679e42683adb09c7508cc73c0d",
      "changes": [
        "НОВОЕ: XPATH_SMART - умный XPath с 6 поведениями!",
        "НОВОЕ: wait_and_tap - ждать элемент и тап (стандарт)",
        "НОВОЕ: if_visible_tap - тап только если элемент виден",
        "НОВОЕ: wait_or_skip - ждать или пропустить шаг",
        "НОВОЕ: wait_or_fail - ждать или ошибка скрипта",
        "НОВОЕ: retry_until_found - повторять поиск до успеха",
        "НОВОЕ: tap_or_fallback - тап или fallback координаты",
        "УЛУЧШЕНО: Логика ожидания элементов",
        "УЛУЧШЕНО: Обработка fallback координат"
      ],
      "required": false,
      "rollout_percentage": 100,
      "min_sdk": 24
    },
    {
      "version": "2.4.0",
      "version_code": 51,
      "release_date": "2026-01-15",
      "download_url": "https://adb.leetpc.com/api/v1/agent/updates/sphere-agent-2.5.0.apk",
      "size_bytes": 23529320,
      "changes": [
        "НОВОЕ: Полная поддержка XPath/UIAutomator2 в скриптах!",
        "НОВОЕ: XPATH_TAP - тап по XPath элементу",
        "НОВОЕ: XPATH_TEXT - ввод текста в XPath элемент", 
        "НОВОЕ: XPATH_WAIT - ожидание появления XPath элемента",
        "НОВОЕ: XPATH_EXISTS - проверка существования элемента",
        "НОВОЕ: XPATH_SWIPE - свайп от XPath элемента",
        "НОВОЕ: FIND_AND_TAP - универсальный поиск и тап",
        "НОВОЕ: FIND_AND_TEXT - универсальный поиск и ввод текста",
        "НОВОЕ: FIND_EXISTS - проверка существования элемента",
        "НОВОЕ: DOUBLE_TAP - двойной тап по координатам",
        "УЛУЧШЕНО: WAIT_FOR_ELEMENT теперь использует XPath"
      ],
      "required": false,
      "rollout_percentage": 100,
      "min_sdk": 24
    }
  ],
  "latest": {
    "version": "3.1.0",
    "version_code": 82,
    "download_url": "https://adb.leetpc.com/api/v1/agent/updates/latest.apk",
    "md5": "10f0cb9fb8588ee70c3e5c0f01704857"
  },
  "enterprise": {
    "rollout_enabled": true,
    "silent_install_required": true,
    "jitter_enabled": true,
    "jitter_max_minutes": 30,
    "health_check_after_update": true
  }
}
